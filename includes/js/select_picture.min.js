(()=>{"use strict";console.log("select picture.js loaded");var e="";window.addEventListener("click",t=>{if(t.target.classList.contains("select-image-button")){t.preventDefault();let l="";null!=(e=t.target).dataset.type&&(l=e.dataset.type),function(t,l=""){t.preventDefault();let n={type:"image"};""!=l&&(n.post_mime_type=[`image/${l}`]);let r=wp.media.frames.frame=wp.media({title:"Select image",button:{text:"Save image"},multiple:!1,library:n});""!=l&&r.on("selection:toggle",function(e){let t=r.state().get("selection").first();null!=t&&t.toJSON().subtype!=l&&(function(e,t,l=!1,n=!1,r=1500){if(null!=e){if("undefined"!=typeof Swal){var i={icon:"error",title:e.toString().trim(),confirmButtonColor:"#bd2919",cancelButtonColor:"Crimson"};return n&&(i.showConfirmButton=!1),"function"==typeof callback&&(i.didClose=()=>callback()),l&&(i.timer=r),null!=document.fullscreenElement&&(i.target=document.fullscreenElement),Swal.fire(i)}alert(e.trim())}}(`Please select an image with the ${l} extension!`),document.querySelectorAll(".swal2-container").forEach(e=>e.style.zIndex=999999),t.destroy())}),r.on("select",function(){let t=r.state().get("selection").first().toJSON(),l=e.closest(".picture-selector-wrapper");l.querySelector(".image-attachment-id").value=t.id;let n=l.querySelector(".image-preview-wrapper");n.querySelector("img").src=t.url,n.classList.remove("hidden"),l.querySelector(".select-image-button").innerHTML=l.querySelector(".select-image-button").innerHTML.replace("Add","Replace")}),r.open()}(t,l)}})})();
//# sourceMappingURL=select_picture.min.js.map